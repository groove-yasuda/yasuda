<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>利用者情報入力欄</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="/UN_CHECK.js"></script>
    <script src="/CN_CHECK.js"></script>


    <script>
        var flag_CN = false;
        var flag_UN = false;
        

        
        $(function(){
            // エラーメッセージを赤文字に
            $("#error_Mess").css("color","red");

            // 初期状態でボタンを非活性化
            $("#SEL_FUNC").prop("disabled", true);

 			// 図書カード番号の入力が終わったときにチェックを行う
            $("#card_Number").focusout(function() {
                CN_DIG_CHK( CN_EXIST_CHK,BTN_ACT);
            });

            // 利用者氏名の入力が終わったときにチェックを行う
            $("#user_Name").focusout(function() {
                UN_DIG_CHK( UN_EXIST_CHK,BTN_ACT );
            });
        });
            
       

        // ボタンの活性/非活性を切り替える
        function BTN_ACT(param) {
			if(flag_UN ==true &&flag_CN == true)
			{
				$("#SEL_FUNC").prop("disabled", false);
			}
			else
			{
				$("#SEL_FUNC").prop("disabled", true);	
			}
        }
        
    </script>
</head>
<style>
    .center {
        text-align: center;
    }
</style>
<body>
<form action="SEL_FUNC" method="post" name="No">
    <div style="padding:background-color rgb(255, 255, 255);
     width:500px; text-align: center;border: 1px solid rgb(0, 0, 0);">
        <br><br>
        <div style="display:inline-block; background:rgb(255, 255, 255);
        padding:15px; border: 5px double rgb(0, 0, 0); border-radius:10px; word-break:break-all;">
            利用者情報入力欄
        </div><br><br>
        図書カード番号と利用者氏名を入力して下さい<br><br>

        <div style="padding:background-color rgb(255, 255, 255);
         width:500px; height:25px;  font-size: 14px;line-height: 10px;" id="CN_DIG_EM"></div>
        <div style="padding:background-color rgb(255, 255, 255);
         width:500px; height:25px;  font-size: 14px;line-height: 10px;" id="CN_EXIST_EM"></div>
        <div style="padding:background-color rgb(255, 255, 255);
         width:500px; height:25px;  font-size: 14px;line-height: 10px;" id="UN_DIG_EM"></div>
        <div style="padding:background-color rgb(255, 255, 255);
         width:500px; height:25px;  font-size: 14px;line-height: 10px;" id="UN_EXIST_EM"></div>
        <p th:text="${error_Mess}" id="error_Mess"></p>
         <br>

        図書カード番号:<input type="text" name="card_Number" id="card_Number" th:value="${card_Number}" ><br><br> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

        利用者氏名:<input type="text" name="user_Name" id="user_Name" th:value="${user_Name}"><br><br><br>

        <input type="submit" value="次へ" id="SEL_FUNC" > <br><br>
    </div>
</form>
<br>
</body>
</html>